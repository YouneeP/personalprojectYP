{"version":3,"file":"0.89581fe53099b935b228.hot-update.js","sources":["C:/sandbox/repos/personalprojectYP/personalproject/personal_projectsYP.Web/App/src/components/login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Grid, Form, FormGroup, FormControl, ControlLabel, Row, Col, HelpBlock, bsStyle } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport registerform from '../img/registerpage.png';\r\n\r\nclass Login extends Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            email:'',\r\n            password:'',\r\n            redirect:false\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.submit = this.submit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    submit(event){\r\n        event.preventDefault();\r\n        fetch(\"/api/user/login\",{\r\n            method: 'POST',\r\n            headers:{'Content-Type':'application/json'},\r\n            body: JSON.stringify({\r\n                email:this.state.email,\r\n                password:this.state.password\r\n            }),\r\n            credentials: 'include'\r\n        }).then((resp)=>resp.json())\r\n        .then(function(data){\r\n            let item = data.Item;\r\n            if(item.Id != 0){\r\n                alert (\"Login Success\")\r\n                .then(() => \r\n                this.setState({ redirect: true })\r\n            );}\r\n            else if(item.Id === 0){\r\n                alert (\"Please Check your Id and Password\");\r\n            }\r\n        }).bind(this)   \r\n    }\r\n\r\n    render() {\r\n        const { redirect } = this.state;\r\n        if (redirect) {\r\n            return <Redirect to='/user'/>;\r\n          }\r\n     \r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                    </div>\r\n                    <div className=\"col-md-4 m-t-sm\">\r\n                        <div className=\"card\">\r\n                            <img className=\"card-img-top img-responsive m-b-sm\" src={registerform} />\r\n                                <div className=\"card-body\">\r\n                                    <form className=\"form-group\" onSubmit={this.submit}> \r\n                                        <label>E-mail *</label>\r\n                                            <input type=\"email\" onChange={this.handleChange} className=\"form-control m-b-sm\" name=\"email\" value={this.state.email} />\r\n                                        <label>Password *</label>\r\n                                            <input type=\"password\" onChange={this.handleChange} className=\"form-control m-b-sm\" name=\"password\" value={this.state.password} />\r\n                                        <button type=\"submit\" className=\"btn btn-primary btn-lg btn-block m-t-md\">Sign in</button>\r\n                                    </form>\r\n                                </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login ;\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AARA;AASA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAPA;AAQA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AADA;AAFA;AADA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBA;AADA;AAuBA;;;;AA3EA;AACA;AA6EA;;;;A","sourceRoot":""}