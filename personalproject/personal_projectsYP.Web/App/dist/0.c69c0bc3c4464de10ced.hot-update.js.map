{"version":3,"file":"0.c69c0bc3c4464de10ced.hot-update.js","sources":["C:/sandbox/repos/personalprojectYP/personalproject/personal_projectsYP.Web/App/src/components/user.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Nav, Navbar, NavDropdown, MenuItem, NavItem, Grid, Row, Col} from 'react-bootstrap';\r\nimport registerform from '../img/registerpage.png';\r\n\r\nclass User extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n        accountId:'',\r\n        meal:'',\r\n        quantity:'',\r\n        user:[]\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submit = this.submit.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    let cookie = document.cookie;\r\n    let accountId = cookie.split(\"=\")[1];\r\n    this.setState({accountId:accountId},()=>this.getByAccountId());\r\n  }\r\n\r\n  getByAccountId(){\r\n    console.log(\"getbyaccountId called\");\r\n    let accountId = this.state.accountId;\r\n    event.preventDefault();\r\n    fetch(\"/api/user/\"+accountId,{\r\n      method: 'GET',\r\n      headers:{'Content-Type':'application/json'},\r\n      credentials: 'include'\r\n    }).then((resp)=>resp.json())\r\n    .then(function(data){\r\n      let item = [data.Item];\r\n      this.setState({\r\n        user:item\r\n      },()=>console.log(this.state.user))\r\n    }.bind(this))   \r\n  }\r\n\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({\r\n        [name]: value\r\n    });\r\n  }\r\n\r\n  submit(event){\r\n    event.preventDefault();\r\n    console.log(this.state.accountId);\r\n    fetch(\"/api/user/meal\",{\r\n      method: 'POST',\r\n      headers: {'Content-Type':'application/json'},\r\n      body:JSON.stringify ({\r\n        AccountId:this.state.accountId,\r\n        Meal:this.state.meal,\r\n        Quantity:this.state.quantity\r\n      }),\r\n      credentials:'include'\r\n    }).then((resp)=>resp.json())\r\n    .then(function(data){\r\n      let item =[data.Item];\r\n      console.log(item);\r\n    }) \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"row\">\r\n        {this.state.user.map( user =>\r\n        <div className=\"col-md-4 m-5-sm m-l-md\" key={user.Id}>\r\n          {/* <h3>Currently Loggin as: {user.FirstName} {user.LastName}</h3> */}\r\n        </div>\r\n        )}\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 m-t-sm m-l-md\" >\r\n            <div className=\"card\">\r\n                <img className=\"card-img-top img-responsive m-b-sm\" src={registerform} />\r\n                  <div className=\"card-body\">\r\n                    <form className=\"form-group\" onSubmit={this.submit}> \r\n                      <label>What have you eat today?</label>\r\n                          <input type=\"text\" onChange={this.handleChange} className=\"form-control m-b-sm\" name=\"meal\" value={this.state.meal} />\r\n                      <label>Quantity</label>\r\n                          <input type=\"number\" onChange={this.handleChange} className=\"form-control m-b-sm\" name=\"quantity\" value={this.state.quantity} />\r\n                      <button type=\"submit\" className=\"btn btn-primary btn-lg btn-block m-t-md\">Submit</button>\r\n                    </form>\r\n                  </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/user.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AATA;AAUA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAIA;AAAA;AACA;AACA;AAAA;AACA;AACA;AADA;AAEA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AARA;AASA;AAAA;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AADA;AAFA;AADA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfA;AARA;AA4BA;;;;AA9FA;AACA;AAgGA;;;;A","sourceRoot":""}