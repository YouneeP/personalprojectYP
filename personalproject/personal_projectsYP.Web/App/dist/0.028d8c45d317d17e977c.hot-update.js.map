{"version":3,"file":"0.028d8c45d317d17e977c.hot-update.js","sources":["C:/sandbox/repos/personalprojectYP/personalproject/personal_projectsYP.Web/App/src/components/record.js"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Record extends Component {\r\n    constructor(props, context){\r\n        super(props, context);\r\n        this.state = {\r\n            mealArr:[]\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let cookie = document.cookie;\r\n        if(cookie === null){\r\n            window.location.href = \"http://localhost:57432/login\"\r\n        }\r\n        else{\r\n            let accountId = cookie.split(\"=\")[1];\r\n            this.setState({\r\n                accountId:accountId\r\n            },()=>this.getByAccountId())\r\n        }\r\n    }\r\n\r\n    getByAccountId(){\r\n        let accountId = this.state.accountId;\r\n        fetch(\"/api/user/meal/\"+accountId,{\r\n          method: 'GET',\r\n          headers:{'Content-Type':'application/json'},\r\n          credentials: 'include'\r\n        }).then((resp)=>resp.json())\r\n        .then(function(data){\r\n            let mealArr=data.Items\r\n            for(var i=0; i<mealArr.length; i++){\r\n                mealArr[i].CreatedDateOnly =mealArr[i].CreatedDate.split(\"T\")[0];\r\n            }\r\n            this.setState({mealArr:mealArr},()=>console.log(this.state.mealArr));\r\n        }.bind(this))   \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>   \r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Food</th>\r\n                            <th>Quantity</th>\r\n                            <th>Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    {this.state.mealArr.map( meal=>\r\n                        <tbody key={meal.CreatedDate}>\r\n                            <tr>\r\n                                <td>{meal.Meal}</td>\r\n                                <td>{meal.Quantity}</td>\r\n                                <td>{meal.CreatedDateOnly}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    )}\r\n                </table>       \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Record;\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/record.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAEA;AAAA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAHA;AAIA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AADA;AAOA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AADA;AADA;AARA;AADA;AAqBA;;;;AA5DA;AACA;AA8DA;;;;A","sourceRoot":""}